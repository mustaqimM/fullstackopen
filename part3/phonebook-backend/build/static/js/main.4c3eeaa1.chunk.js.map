{"version":3,"sources":["services/phonebook.js","components/Persons.js","components/Filter.js","components/PersonForm.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Persons","personsToShow","handleDelete","map","person","name","number","onClick","Filter","findPerson","handleFindPerson","value","onChange","PersonForm","addPerson","newName","handlePersonChange","newNumber","handleNumberChange","onSubmit","type","Notification","message","boxStyle","background","borderRadius","borderStyle","padding","marginBottom","fontSize","includes","style","color","App","useState","persons","setPersons","setNewName","setNewNumber","setFindPerson","setMessage","useEffect","phonebookService","initialPersons","filter","toLowerCase","event","target","preventDefault","personObject","find","foundPerson","window","confirm","returnedPerson","console","log","setTimeout","catch","error","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4c3eeaa1.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then((response) => response.data)\n}\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then((response) => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then((response) => response.data)\n}\n\nconst deletePerson = (id) => {\n  axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default {\n  getAll,\n  create,\n  update,\n  deletePerson,\n}\n","import React from 'react'\n\nconst Persons = ({ personsToShow, handleDelete }) => {\n  return (\n    <div>\n      <ul>\n        {personsToShow.map((person) => (\n          <li key={person.id}>\n            {person.name} - {person.number}\n            <button onClick={() => handleDelete(person.id, person.name)}>\n              delete\n            </button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  )\n}\n\nexport default Persons\n","import React from 'react'\n\nconst Filter = ({ findPerson, handleFindPerson }) => {\n  return (\n    <div>\n      filter shown with <input value={findPerson} onChange={handleFindPerson} />\n    </div>\n  )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = ({ addPerson, newName, handlePersonChange, newNumber, handleNumberChange }) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input value={newName} onChange={handlePersonChange} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n  const boxStyle = {\n    background: 'grey',\n    borderRadius: 5,\n    borderStyle: 'solid',\n    padding: 10,\n    marginBottom: 10,\n    fontSize: 20,\n  }\n  const successStyle = {\n    color: 'green',\n  }\n  const updateStyle = {\n    color: 'yellow',\n  }\n  const errorStyle = {\n    color: 'red',\n  }\n\n  if (message === '') {\n    return null\n  }\n\n  if (message.includes('Added')) {\n    return (\n      <div style={boxStyle}>\n        <div style={successStyle}>{message}</div>\n      </div>\n    )\n  }\n  if (message.includes('Error')) {\n    return (\n      <div style={boxStyle}>\n        <div style={errorStyle}>{message}</div>\n      </div>\n    )\n  }\n  if (message.includes('Updated')) {\n    return (\n      <div style={boxStyle}>\n        UP\n        <div style={updateStyle}>{message}</div>\n      </div>\n    )\n  }\n\n  return (\n    <div style={boxStyle}>\n      <div>{message}</div>\n    </div>\n  )\n}\n\nexport default Notification\n","import React, { useEffect, useState } from 'react'\nimport phonebookService from './services/phonebook'\n\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('add a person')\n  const [newNumber, setNewNumber] = useState('add a number')\n  const [findPerson, setFindPerson] = useState('')\n  const [message, setMessage] = useState('')\n\n  const hook = () => {\n    phonebookService\n      .getAll()\n      .then((initialPersons) => setPersons(initialPersons))\n  }\n\n  useEffect(hook, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    }\n\n    if (persons.find((person) => person.name === newName && person.number !== newNumber)) {\n      const foundPerson = persons.find((person) => person.name === newName)\n\n      if (window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`)) {\n        phonebookService\n          .update(foundPerson.id, personObject)\n          .then((returnedPerson) => {\n            setPersons(persons.map((person) => person.id !== foundPerson.id ? person : returnedPerson))\n            setNewName('')\n            setNewNumber('')\n            setMessage(`Changed ${personObject.name}`)\n            console.log(message)\n            setTimeout(() => { setMessage('') }, 2000)\n          })\n          .catch((error) => {\n            console.log(error)\n            // setPersons(persons.filter((person) => person.id !== foundPerson.id))\n            setMessage(`Error: ${error.response.data.error}`)\n            setTimeout(() => { setMessage('') }, 2000)\n          })\n      }\n      return\n    }\n\n    phonebookService.create(personObject)\n      .then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n\n        setMessage(`Added: ${returnedPerson.name}`)\n        setTimeout(() => {\n          setMessage('')\n        }, 2000)\n      })\n      .catch(error => {\n        console.log(error.response.data.error)\n        setMessage(`Error: ${error.response.data.error}`)\n      })\n  }\n\n  const handlePersonChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFindPerson = (event) => {\n    setFindPerson(event.target.value)\n  }\n\n  const handleDelete = (id, name) => {\n    if (window.confirm(`Delete ${name}?`)) {\n      phonebookService.deletePerson(id, name)\n      setPersons(persons.filter((person) => person.id !== id))\n    }\n  }\n\n  const personsToShow =\n    findPerson === ''\n      ? persons\n      : persons.filter((person) =>\n        person.name.toLowerCase().includes(findPerson)\n      )\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={message} />\n\n      <Filter findPerson={findPerson} handleFindPerson={handleFindPerson} />\n\n      <h3>Add a new</h3>\n\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handlePersonChange={handlePersonChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h2>Numbers</h2>\n      <Persons personsToShow={personsToShow} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}